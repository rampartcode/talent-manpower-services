// schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  super
  admin
  user
}

model User {
  id       String @id @default(cuid())
  name     String
  email    String @unique
  password String
  role     Role

  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @updatedAt @map(name: "updated_at")

  @@map(name: "users")
}

model Job {
  id          String @id @default(cuid())
  title       String
  description String @db.Text

  requirements     String @db.Text
  responsibilities String @db.Text

  createdAt DateTime @default(now()) @map(name: "created_at")
  expiresAt DateTime @map(name: "expires_at")
  updatedAt DateTime @updatedAt @map(name: "updated_at")

  Submissions Submission[]

  @@map("jobs")
}

model Submission {
  id     String @id @default(cuid())
  jobsId String

  name            String
  email           String
  phone           String
  work_experience String
  english_level   String

  picture  String
  document String

  createdAt DateTime @default(now()) @map(name: "created_at")

  job Job @relation(fields: [jobsId], references: [id])
}
